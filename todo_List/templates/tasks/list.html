{% extends "base.html" %}

{% block title %}My Tasks{% endblock %}

{% block content %}
<h1>Hello, {{ user.username }}</h1>
<br>
<h2>My Tasks</h2>
<a href="{% url 'task_create' %}" class="add-task-btn">+ Add Task</a>

<div class="tasks-grid">
    {% for task in tasks %}
    <div class="task-card {% if task.complete %}done{% endif %}">
        <h3>{{ task.title }}</h3>
        <p>{{ task.description }}</p>

        <div class="task-actions">
            <a href="{% url 'task_update' task.pk %}" class="edit-btn">Edit</a>

            <form action="{% url 'task_delete' task.pk %}" method="post" style="display:inline;"
                onsubmit="return confirm('Are you sure you want to delete this task?');">
                {% csrf_token %}
                <button type="submit" class="delete-btn">Delete</button>
            </form>
        </div>
    </div>
    
    {% empty %}
    <p>No tasks yet.</p>
    {% endfor %}
</div>
{% endblock %}